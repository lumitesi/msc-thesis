%!TEX root = ../template.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% chapter4.tex
%% NOVA thesis document file
%%
%% Chapter with lots of dummy text
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Implementation of iCBD-Replication and Cache Server}
\label{cha:replication}


%%-------------------------------------------------------------------
%%	4 - Implementation of a Replication Module
%%-------------------------------------------------------------------
\section{Implementation of a Replication Module}
\label{sec:replication_impl}


%%-------------------------------------------------------------------
%%	4. - Requirements of the Module
%%-------------------------------------------------------------------
\subsection{Requirements of the Module}
\label{sub:requirements_icbdrep}


%%-------------------------------------------------------------------
%%	4. - Preliminary tests on the BTRFS Incremental Backup features
%%-------------------------------------------------------------------
\subsection{Preliminary tests on the BTRFS Incremental Backup features}
\label{sub:pre_test_btrfs}

%https://btrfs.wiki.kernel.org/index.php/Incremental_Backup
%https://www.samba.org/ftp/rsync/rsync.html

Before the start of any implementation, there was the need to validate the capabilities of the BTRFS file system regarding sending snapshots across different systems.
As one of the requirements was the efficiency of the transference of data. So a small comparison was in order. 


%%-------------------------------------------------------------------
%%	4. - Image Repository
%%-------------------------------------------------------------------
\subsection{Image Repository}
\label{sub:rep_image_repo}

\subsubsection{iCBD Snapshot Structure}
\label{subsub:icbd_snapshot}

In the replication module we treat a snapshot not only as raw data, but a collection of data and metadata that is essencial to unequivocally distinguish the multiple images present in the system. 


%%-------------------------------------------------------------------
%%	4. - Communications between image repositories
%%-------------------------------------------------------------------
\subsection{Communications between image repositories}
\label{sub:rep_rpcs}


%%-------------------------------------------------------------------
%%	4. - Pyro4 Library
%%-------------------------------------------------------------------
\subsubsection{Pyro4 Library}
\label{subsub:rep_pyro4}

%https://pythonhosted.org/Pyro4/


%%-------------------------------------------------------------------
%%	4. - Master Node
%%-------------------------------------------------------------------
\subsection{Master Node}
\label{sub:rep_master_node}


%%-------------------------------------------------------------------
%%	4. - Replica Node
%%-------------------------------------------------------------------
\subsection{Replica Node}
\label{sub:rep_replica_node}






%%-------------------------------------------------------------------
%%	4. - Building a iCBD Cache Server
%%-------------------------------------------------------------------
\section{Building a iCBD Cache Server}
\label{sec:cache_server}

Found a Centos 7 kernel bug.
%https://bugs.centos.org/view.php?id=14228
%https://bugzilla.redhat.com/show_bug.cgi


%%-------------------------------------------------------------------
%%	4. - Services
%%-------------------------------------------------------------------
\subsection{Services}
\label{sub:cache_services}


%%-------------------------------------------------------------------
%%	4. - Networking
%%-------------------------------------------------------------------
\subsection{Networking}
\label{sub:cache_networking}


